<html>
<meta charset="utf-8"></meta>
<head><title>map</title></head>
<!--第一步：导入google map api js-->
<script src="http://maps.google.com/maps/api/js?sensor=false"></script>

<body >
111
<div id="map" style="width:500px; height:500px;"></div>
</body>

<script>
function init()
{
 //获取当前地理位置
 navigator.geolocation.getCurrentPosition(function(position){
 var coords=position.coords;
 
 //第二步：设定地图参数
 var latlng=new google.maps.LatLng(coords.latitude,coords.longitude);
 var myOptions=
 {
  zoom:12, 
  center:latlng,
  mapTypeId:google.maps.MapTypeId.ROADMAP
 };

 //第三步：创建地图
 var map1=new google.maps.Map(document.getElementById("map"),myOptions);

 //第四步：创建标记
 var marker=new google.maps.Marker({
  position:latlng,
  map:map1
 });

 //第五步：设定标注窗口并在窗口中注视文字
 var infowindow=new google.maps.InfoWindow({
  content: "当前位置 "
 });

 //第六步：打开标注窗口
 infowindow.open(map1,marker);

 });
}
init();
</script>
</html>